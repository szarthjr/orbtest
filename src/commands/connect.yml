description: This command get cluster crendentials.
parameters:
  cluster:
    description: The name of the cluster for which to create a kubeconfig entry.
    type: env_var_name
    default: CLUSTER_NAME

steps:
  - run:
      name: list clusters
      command: gcloud container clusters list
  - run:
      name: get credentials
      command: gcloud container clusters get-credentials <<parameters.cluster>>
  - run:
      name: kubeconfig
      command: kubectl get pods -A
